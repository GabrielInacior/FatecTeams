# ============================================
# EXEMPLO DE CONFIGURAÇÃO PARA PRODUÇÃO - AWS EC2
# ============================================
# IMPORTANTE: Renomeie este arquivo para .env e ajuste os valores

# Configurações do Servidor
NODE_ENV=production
PORT=3000
HOST=0.0.0.0  # Permite acesso externo na EC2

# Configurações do Banco de Dados PostgreSQL - RDS
DB_HOST=your-rds-endpoint.amazonaws.com  # Substitua pelo endpoint do RDS
DB_PORT=5432
DB_NAME=FatecTeams
DB_USER=fatecteams
DB_PASSWORD=your-super-secure-password-here  # Substitua por senha segura

# Configurações JWT - ⚠️ GERE CHAVES ÚNICAS PARA PRODUÇÃO
JWT_SECRET=your-ultra-secure-jwt-secret-key-min-32-chars
JWT_EXPIRE_TIME=7d
JWT_REFRESH_SECRET=your-ultra-secure-refresh-secret-key-min-32-chars
JWT_REFRESH_EXPIRE_TIME=30d

# Configurações do AWS S3 - ⚠️ USE IAM ROLES NA EC2 (mais seguro)
AWS_REGION=us-east-1
# Se usar IAM Role na EC2, comente as linhas abaixo:
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_BUCKET_NAME=your-s3-bucket-name
AWS_S3_ACL=private

# Configurações de Email - SES ou SMTP
EMAIL_FROM=noreply@yourdomain.com
EMAIL_HOST=email-smtp.us-east-1.amazonaws.com  # Para SES
EMAIL_PORT=587
EMAIL_USER=your-ses-smtp-user
EMAIL_PASS=your-ses-smtp-password
EMAIL_SECURE=false

# Configurações do Redis - ElastiCache
REDIS_HOST=your-redis-endpoint.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password  # Se aplicável

# Configurações de WebSocket
WEBSOCKET_CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
WEBSOCKET_PORT=3001

# Configurações de Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_ENABLED=true

# Configurações de Logging
LOG_LEVEL=info
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Configurações de CORS
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
CORS_MAX_AGE=86400

# Configurações de Convites
CONVITE_EXPIRACAO_HORAS=168

# Configurações de Segurança Adicional
CORS_MAX_AGE=86400
SESSION_SECRET=your-ultra-secure-session-secret-key

# Configurações de Backup
BACKUP_ENABLED=true
BACKUP_FREQUENCY_HOURS=24
BACKUP_S3_BUCKET=your-backup-s3-bucket

# Configurações de Migration Automática
# AUTO_MIGRATE=true habilita execução automática de migrations no startup
AUTO_MIGRATE=true

# Configurações de Monitoramento
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true

# Configurações de SSL (se aplicável)
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/your-cert.pem
SSL_KEY_PATH=/etc/ssl/private/your-key.pem

# ============================================
# COMANDOS ÚTEIS PARA PRODUÇÃO:
# ============================================
# 
# # Gerar chaves JWT seguras:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# 
# # Verificar status do PM2:
# pm2 status
# 
# # Ver logs da aplicação:
# pm2 logs fatecteams-api
# 
# # Restart da aplicação:
# pm2 restart fatecteams-api
# 
# # Monitorar aplicação:
# pm2 monit
# 
# # Backup manual do banco:
# pg_dump -h $DB_HOST -U $DB_USER -d $DB_NAME > backup_$(date +%Y%m%d_%H%M%S).sql
# 
# # Aplicar migrations manualmente:
# npm run migration:run
# 
# # Verificar migrations pendentes:
# npm run migration:check
#
# ============================================
